{"ast":null,"code":"import _slicedToArray from\"C:/Users/lucas/OneDrive/Desktop/ws/Imobi-exspress-res/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";import Input from\"../../components/Input\";import Button from\"../../components/Button\";import{Container,Form,Left,Message,Right}from\"./styles\";import Api from\"../../services/Api\";import{toast}from\"react-toastify\";import{getLocalStorage}from\"../../context/utils\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Perfil=function Perfil(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),thumb=_useState2[0],setThumb=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),tipo=_useState4[0],setTipo=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),endereco=_useState6[0],setEndereco=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),cidade=_useState8[0],setCidade=_useState8[1];var _useState9=useState(''),_useState10=_slicedToArray(_useState9,2),uf=_useState10[0],setUf=_useState10[1];var _useState11=useState(''),_useState12=_slicedToArray(_useState11,2),valor=_useState12[0],setValor=_useState12[1];var _useState13=useState(''),_useState14=_slicedToArray(_useState13,2),descricao=_useState14[0],setDescricao=_useState14[1];var _useState15=useState(''),_useState16=_slicedToArray(_useState15,2),name=_useState16[0],setName=_useState16[1];var _useState17=useState(''),_useState18=_slicedToArray(_useState17,2),email=_useState18[0],setEmail=_useState18[1];var _useState19=useState(''),_useState20=_slicedToArray(_useState19,2),telefone=_useState20[0],setTelefone=_useState20[1];var _useState21=useState([]),_useState22=_slicedToArray(_useState21,2),message=_useState22[0],setMessage=_useState22[1];var usuario=getLocalStorage();var _ref=usuario||{},id=_ref.id;var data={id:id,thumb:thumb,tipo:tipo,endereco:endereco,cidade:cidade,uf:uf,valor:valor,descricao:descricao,name:name,email:email,telefone:telefone};useEffect(function(){if(id){Api.get(\"/listmessage/\".concat(id)).then(function(response){setMessage(response.data.messagem);}).catch(function(){console.log(\"Erro: Erro ao listar mensagens\");});}},[id]);var handleSubmit=function handleSubmit(e){e.preventDefault();var headers={'headers':{'content-type':'multipart/form-data'}};Api.post('/createimobi',data,headers).then(function(response){toast(response.data.message);}).catch(function(){console.log(\"Erro: Erro ao cadastrar imóvel\");});};return/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsxs(Left,{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Minhas mensagens\"}),message.map(function(item,index){return/*#__PURE__*/_jsxs(Message,{children:[/*#__PURE__*/_jsxs(\"span\",{children:[\"Nome: \",item.client_name]}),/*#__PURE__*/_jsxs(\"span\",{children:[\"Email: \",item.client_email]}),/*#__PURE__*/_jsx(\"p\",{children:item.client_mensagem})]},index);})]}),/*#__PURE__*/_jsxs(Right,{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Cadastrar im\\xF3veis\"}),/*#__PURE__*/_jsxs(Form,{onSubmit:handleSubmit,autoComplete:\"off\",children:[/*#__PURE__*/_jsx(Input,{type:\"file\",name:\"thumb\",onChange:function onChange(e){return setThumb(e.target.files[0]);}}),/*#__PURE__*/_jsx(Input,{type:\"text\",name:\"tipo\",placeholder:\"Informe o tipo do im\\xF3vel:\",onChange:function onChange(e){return setTipo(e.target.value);}}),/*#__PURE__*/_jsx(Input,{type:\"text\",name:\"endereco\",placeholder:\"Informe o endere\\xE7o do im\\xF3vel:\",onChange:function onChange(e){return setEndereco(e.target.value);}}),/*#__PURE__*/_jsx(Input,{type:\"text\",name:\"cidade\",placeholder:\"Informe a cidade do im\\xF3vel:\",onChange:function onChange(e){return setCidade(e.target.value);}}),/*#__PURE__*/_jsx(Input,{type:\"text\",name:\"uf\",placeholder:\"UF:\",onChange:function onChange(e){return setUf(e.target.value);}}),/*#__PURE__*/_jsx(Input,{type:\"text\",name:\"descricao\",placeholder:\"Descri\\xE7\\xE3o do im\\xF3vel:\",onChange:function onChange(e){return setDescricao(e.target.value);}}),/*#__PURE__*/_jsx(Input,{type:\"text\",name:\"name\",placeholder:\"Informe seu nome:\",onChange:function onChange(e){return setName(e.target.value);}}),/*#__PURE__*/_jsx(Input,{type:\"text\",name:\"email\",placeholder:\"Informe seu e-mail:\",onChange:function onChange(e){return setEmail(e.target.value);}}),/*#__PURE__*/_jsx(Input,{type:\"text\",name:\"valor\",placeholder:\"Informe o valor do im\\xF3vel Ex: 500,00:\",onChange:function onChange(e){return setValor(e.target.value);}}),/*#__PURE__*/_jsx(Input,{type:\"text\",name:\"telefone\",placeholder:\"Informe o telefone de contato Ex: (99) 9 9999-9999:\",onChange:function onChange(e){return setTelefone(e.target.value);}}),/*#__PURE__*/_jsx(Button,{type:\"submit\",children:\"Cadastrar im\\xF3vel\"})]})]})]});};export default Perfil;","map":{"version":3,"names":["React","useEffect","useState","Input","Button","Container","Form","Left","Message","Right","Api","toast","getLocalStorage","Perfil","thumb","setThumb","tipo","setTipo","endereco","setEndereco","cidade","setCidade","uf","setUf","valor","setValor","descricao","setDescricao","name","setName","email","setEmail","telefone","setTelefone","message","setMessage","usuario","id","data","get","then","response","messagem","catch","console","log","handleSubmit","e","preventDefault","headers","post","map","item","index","client_name","client_email","client_mensagem","target","files","value"],"sources":["C:/Users/lucas/OneDrive/Desktop/ws/Imobi-exspress-res/src/pages/Perfil/index.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport Input from \"../../components/Input\";\r\nimport Button from \"../../components/Button\";\r\nimport { Container, Form, Left, Message, Right } from \"./styles\";\r\nimport Api from \"../../services/Api\";\r\nimport { toast } from \"react-toastify\";\r\nimport { getLocalStorage } from \"../../context/utils\";\r\n\r\nconst Perfil =  () => {\r\n  const [thumb, setThumb] = useState('');\r\n  const [tipo, setTipo] = useState('');\r\n  const [endereco, setEndereco] = useState('');\r\n  const [cidade, setCidade] = useState('');\r\n  const [uf, setUf] = useState('');\r\n  const [valor, setValor] = useState('');\r\n  const [descricao, setDescricao] = useState('');\r\n  const [name, setName] = useState('');\r\n  const [email, setEmail] = useState('');\r\n  const [telefone, setTelefone] = useState('');\r\n  const [message, setMessage] = useState([]);\r\n\r\n  const usuario = getLocalStorage();\r\n  const { id } = usuario || {};\r\n\r\n  \r\n\r\n  const data = {\r\n    id,\r\n    thumb,\r\n    tipo,\r\n    endereco,\r\n    cidade,\r\n    uf,\r\n    valor,\r\n    descricao,\r\n    name,\r\n    email,\r\n    telefone,\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (id) {\r\n      Api.get(`/listmessage/${id}`)\r\n        .then((response) => {\r\n          setMessage(response.data.messagem);\r\n        })\r\n        .catch(() => {\r\n          console.log(\"Erro: Erro ao listar mensagens\");\r\n        });\r\n    }\r\n  }, [id]);\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    const headers = {\r\n      'headers': {\r\n        'content-type': 'multipart/form-data',\r\n      },\r\n    };\r\n\r\n    Api.post('/createimobi', data, headers)\r\n      .then((response) => {\r\n        toast(response.data.message);\r\n      })\r\n      .catch(() => {\r\n        console.log(\"Erro: Erro ao cadastrar imóvel\");\r\n      });\r\n  };\r\n\r\n  return (\r\n    <Container>\r\n      <Left>\r\n        <h2>Minhas mensagens</h2>\r\n        {message.map((item, index) => (\r\n          <Message key={index}>\r\n            <span>Nome: {item.client_name}</span>\r\n            <span>Email: {item.client_email}</span>\r\n            <p>{item.client_mensagem}</p>\r\n          </Message>\r\n        ))}\r\n      </Left>\r\n      <Right>\r\n        <h2>Cadastrar imóveis</h2>\r\n        <Form onSubmit={handleSubmit} autoComplete=\"off\">\r\n          <Input\r\n            type=\"file\"\r\n            name=\"thumb\"\r\n            onChange={(e) => setThumb(e.target.files[0])}\r\n          />\r\n          <Input\r\n            type=\"text\"\r\n            name=\"tipo\"\r\n            placeholder=\"Informe o tipo do imóvel:\"\r\n            onChange={(e) => setTipo(e.target.value)}\r\n          />\r\n          <Input\r\n            type=\"text\"\r\n            name=\"endereco\"\r\n            placeholder=\"Informe o endereço do imóvel:\"\r\n            onChange={(e) => setEndereco(e.target.value)}\r\n          />\r\n          <Input\r\n            type=\"text\"\r\n            name=\"cidade\"\r\n            placeholder=\"Informe a cidade do imóvel:\"\r\n            onChange={(e) => setCidade(e.target.value)}\r\n          />\r\n          <Input\r\n            type=\"text\"\r\n            name=\"uf\"\r\n            placeholder=\"UF:\"\r\n            onChange={(e) => setUf(e.target.value)}\r\n          />\r\n          <Input\r\n            type=\"text\"\r\n            name=\"descricao\"\r\n            placeholder=\"Descrição do imóvel:\"\r\n            onChange={(e) => setDescricao(e.target.value)}\r\n          />\r\n          <Input\r\n            type=\"text\"\r\n            name=\"name\"\r\n            placeholder=\"Informe seu nome:\"\r\n            onChange={(e) => setName(e.target.value)}\r\n          />\r\n          <Input\r\n            type=\"text\"\r\n            name=\"email\"\r\n            placeholder=\"Informe seu e-mail:\"\r\n            onChange={(e) => setEmail(e.target.value)}\r\n          />\r\n          <Input\r\n            type=\"text\"\r\n            name=\"valor\"\r\n            placeholder=\"Informe o valor do imóvel Ex: 500,00:\"\r\n            onChange={(e) => setValor(e.target.value)}\r\n          />\r\n          <Input\r\n            type=\"text\"\r\n            name=\"telefone\"\r\n            placeholder=\"Informe o telefone de contato Ex: (99) 9 9999-9999:\"\r\n            onChange={(e) => setTelefone(e.target.value)}\r\n          />\r\n          <Button type=\"submit\">Cadastrar imóvel</Button>\r\n        </Form>\r\n      </Right>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default Perfil;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}